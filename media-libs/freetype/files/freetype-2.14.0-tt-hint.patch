https://cgit.git.savannah.gnu.org/cgit/freetype/freetype2.git/commit/?id=89eba38e62981d7a6f0dd4995c603a23e00c113d
https://cgit.git.savannah.gnu.org/cgit/freetype/freetype2.git/commit/?id=3ac49075459074d35bfd295f9384041e7a53d701
https://cgit.git.savannah.gnu.org/cgit/freetype/freetype2.git/commit/?id=36f917cc6ac8b3b0c9cbc549fab2f839f6f5680b

https://gitlab.freedesktop.org/freetype/freetype/-/issues/1353
https://gitlab.freedesktop.org/freetype/freetype/-/issues/1349

From 89eba38e62981d7a6f0dd4995c603a23e00c113d Mon Sep 17 00:00:00 2001
From: Alexei Podtelezhnikov <apodtele@gmail.com>
Date: Mon, 8 Sep 2025 10:43:35 -0400
Subject: * src/truetype/ttinterp.c (TT_Run_Context): Reset IUP tracking bits.

Fixes #1353.
---
 src/truetype/ttinterp.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/truetype/ttinterp.c b/src/truetype/ttinterp.c
index 378342bbb..bf440936c 100644
--- a/src/truetype/ttinterp.c
+++ b/src/truetype/ttinterp.c
@@ -7521,6 +7521,12 @@
     exec->func_round = (TT_Round_Func)Round_To_Grid;
     Compute_Funcs( exec );
 
+#ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL
+    /* Reset IUP tracking bits in the backward compatibility mode. */
+    /* See `ttinterp.h' for details.                               */
+    exc->backward_compatibility &= ~0x6;
+#endif
+
     /* some glyphs leave something on the stack, */
     /* so we clean it before a new execution.    */
     exec->top     = 0;
-- 
cgit v1.2.3

From 3ac49075459074d35bfd295f9384041e7a53d701 Mon Sep 17 00:00:00 2001
From: Alexei Podtelezhnikov <apodtele@gmail.com>
Date: Mon, 8 Sep 2025 10:45:16 -0400
Subject: Typo!

---
 src/truetype/ttinterp.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/truetype/ttinterp.c b/src/truetype/ttinterp.c
index bf440936c..9ae90c769 100644
--- a/src/truetype/ttinterp.c
+++ b/src/truetype/ttinterp.c
@@ -7524,7 +7524,7 @@
 #ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL
     /* Reset IUP tracking bits in the backward compatibility mode. */
     /* See `ttinterp.h' for details.                               */
-    exc->backward_compatibility &= ~0x6;
+    exec->backward_compatibility &= ~0x6;
 #endif
 
     /* some glyphs leave something on the stack, */
-- 
cgit v1.2.3

From 36f917cc6ac8b3b0c9cbc549fab2f839f6f5680b Mon Sep 17 00:00:00 2001
From: Alexei Podtelezhnikov <apodtele@gmail.com>
Date: Mon, 8 Sep 2025 11:03:24 -0400
Subject: * src/truetype/ttinterp.c (TT_Run_Context): Fix IUP tracking bits.

Correctly fixes #1353 and #1349.
---
 src/truetype/ttinterp.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/truetype/ttinterp.c b/src/truetype/ttinterp.c
index 9ae90c769..7b26c9a9d 100644
--- a/src/truetype/ttinterp.c
+++ b/src/truetype/ttinterp.c
@@ -7524,7 +7524,7 @@
 #ifdef TT_SUPPORT_SUBPIXEL_HINTING_MINIMAL
     /* Reset IUP tracking bits in the backward compatibility mode. */
     /* See `ttinterp.h' for details.                               */
-    exec->backward_compatibility &= ~0x6;
+    exec->backward_compatibility &= ~0x3;
 #endif
 
     /* some glyphs leave something on the stack, */
-- 
cgit v1.2.3
